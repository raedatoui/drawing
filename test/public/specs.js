(function(){if(!this.specs){var e={},r={},t=function(c,i){var o,a,l=n(i,c),h=n(l,"./index");if(o=r[l]||r[h])return o.exports;if(!(a=e[l]||e[l=h]))throw"module '"+c+"' not found";o={id:l,exports:{}};try{return r[l]=o,a(o.exports,function(e){return t(e,s(l))},o),o.exports}catch(u){throw delete r[l],u}},n=function(e,r){var t,n,s=[];t=/^\.\.?(\/|$)/.test(r)?[e,r].join("/").split("/"):r.split("/");for(var c=0,i=t.length;i>c;c++)n=t[c],".."==n?s.pop():"."!=n&&""!=n&&s.push(n);return s.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")};this.specs=function(e){return t(e,"")},this.specs.define=function(r){for(var t in r)e[t]=r[t]},this.specs.modules=e,this.specs.cache=r}return this.specs.define}).call(this)({"controllers/renderer":function(){(function(){var e;e=window.require,describe("The Renderer Controller",function(){var r,t;return t=e("controllers/renderer"),r=e("models/command"),beforeEach(function(){var e,n;return n=$("<div />"),this.renderer=new t({el:n}),e=new r({name:"C",args:{w:20,h:15}}),this.renderer.consume(e)}),it("can draw a 20x15 canvas",function(){var e,r,t;for(expect(this.renderer.cells.length).toBe(15),expect(this.renderer.canvasWidth).toBe(20),expect(this.renderer.canvasHeight).toBe(15),t=[],e=r=0;14>=r;e=++r)t.push(expect(this.renderer.cells[e].length).toBe(20));return t}),it("can draw a horizontal line L 5 2 20 2",function(){var e,t,n,s,c;for(e=new r({name:"L",args:{x1:5,y1:2,x2:20,y2:2}}),this.renderer.consume(e),t=n=0;3>=n;t=++n)expect(this.renderer.cells[1][t].state).toBe("");for(c=[],t=s=4;19>=s;t=++s)c.push(expect(this.renderer.cells[1][t].state).toBe("x"));return c}),it("can draw a vertical line L 17 6 17 15",function(){var e,t,n,s,c;for(e=new r({name:"L",args:{x1:17,y1:6,x2:17,y2:15}}),this.renderer.consume(e),t=n=0;4>=n;t=++n)expect(this.renderer.cells[t][16].state).toBe("");for(c=[],t=s=5;14>=s;t=++s)c.push(expect(this.renderer.cells[t][16].state).toBe("x"));return c}),it("can draw a rectangle",function(){var e,t,n,s,c,i,o,a;for(e=new r({name:"R",args:{x1:2,y1:5,x2:13,y2:12}}),this.renderer.consume(e),t=s=1;12>=s;t=++s)expect(this.renderer.cells[4][t].state).toBe("x");for(t=c=1;12>=c;t=++c)expect(this.renderer.cells[11][t].state).toBe("x");for(n=i=5;11>=i;n=++i)expect(this.renderer.cells[n][1].state).toBe("x");for(a=[],n=o=5;11>=o;n=++o)a.push(expect(this.renderer.cells[n][12].state).toBe("x"));return a}),it("can flood fill the canvas with red",function(){var e,t,n,s;return t=new r({name:"L",args:{x1:5,y1:2,x2:20,y2:2}}),this.renderer.consume(t),s=new r({name:"L",args:{x1:17,y1:6,x2:17,y2:15}}),this.renderer.consume(s),n=new r({name:"R",args:{x1:2,y1:5,x2:13,y2:12}}),this.renderer.consume(n),e=new r({name:"B",args:{x:10,y:3,c:"#f44"}}),this.renderer.consume(e,!1),expect(this.renderer.cells[0][0].state).toBe("o"),expect(this.renderer.cells[0][0].el.css("color")).toBe("rgb(255, 68, 68)"),expect(this.renderer.cells[5][5].state).toBe(""),expect(this.renderer.cells[4][1].state).toBe("x")})})}).call(this)}}),require("lib/setup");for(var key in specs.modules)specs(key);